<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">


<!-- JSON files -->

  <!--( a ) Fav Icon -->
    
  <link rel="icon" href="images/icontab.jpg">



  <title>Ooops News</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/responsive.css">
    <link rel="stylesheet" type="text/css" href="css/finalbreak.css">








    <style>
        .dropbtn {
           
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
            background-color: #c82333;
        }
        
        .dropdown {
            position: relative;
            display: inline-block;
            background: #c82333;
            
          
        }

/* Track */
div.ex1 {
    height: 210px;
    overflow: scroll;
}

        
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #112435;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;

        }
        
        .dropdown-content a:hover {background-color: #c82333;}
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown:hover .dropbtn {
            background-color: #3e8e41;
        }




.classA {
					background: linear-gradient(grey);
          width: 1300px;
					margin:10px;
          max-width: 350px;
          max-height: 220px;
				
				
					text-shadow: 0px 2px 2px #112435, 0px 0px 0px #c82333, 0px 5px 5px #c82333 ;
					box-shadow:2px 4px 20px silver inset;
           
          float: left;
         
					
				}






        </style>
        
        
















</head>
<body>



    <header class="header">
        <div class="header__inner">
          <h1 class="header__title">
		   <img src="images/icontab.jpg" />
            Times
          </h1>
          <a id="menu" class="header__menu">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M2 6h20v3H2zm0 5h20v3H2zm0 5h20v3H2z"/>
            </svg>
          </a>
        </div>
      </header>




  <div class="container">
   
    <!-- Navs -->
  <div class="navy">

         


    <nav id="drawer" class="nav">
      <ul class="nav__list">
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getTopnews">Home</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getPosts">BBCNews</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getCnn">CNN</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getEspn">Sport</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getSearch">Blog</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getTech">Tech</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getGoogle">GoogleNews</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getFashion">Naija</button> </li>
          <li class="nav__item">  <button class="btn btn-primary mr-4" id="getSource">Source</button> </li>
          <li class="nav__item">
         <div id="nonen">
           <div class="dropdown" >
        <button  style="color:white; background: linear-gradient(to right, #112435, #c82333, #0062cc);  font-weight:bold;" href="#" class="btn btn-danger"  >More 
            </button> 
              <div class="dropdown-content ex1" id="myDropdown">
                
                  <input type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
                  
               
                  <a href="#">Austria</a>
                   <a href="#">Argentina</a>
                   <a href="#">Australia</a>
                   <a href="#">Brazil</a>
                   <a ui-sref="post({countryCode:'CA'})" href="">Canada</a>
                   <a href="#">Czech Republic</a>
                   <a href="#">France</a>
                   <a href="#">Germany</a>
                   <a href="#">India</a>
                   <a href="#">Italy</a>
                   <a id="getNaija" href="#">Nigeria</a>
                   <a href="#">South Africa</a>
                   <a href="#">Sweden</a>
                   <a href="#">United Kingdom</a>
                   <a href="#">United States</a>
                 </div>
                </div>
                
              </div>
          

          

      </ul>
    </nav> </div>
    <hr>
    <div id="output"></div>
    
  </div>

  <script>
  
    document.getElementById('getPosts').addEventListener('click', getPosts);
    

    document.getElementById('getSource').addEventListener('click', getSource);
    document.getElementById('getTopnews').addEventListener('click', getTopnews);
    document.getElementById('getSearch').addEventListener('click', getSearch);
    document.getElementById('getNaija').addEventListener('click', getNaija);
    document.getElementById('getEspn').addEventListener('click', getEspn);
    document.getElementById('getCnn').addEventListener('click', getCnn);
    document.getElementById('getTech').addEventListener('click', getTech);
    document.getElementById('getGoogle').addEventListener('click', getGoogle);
    document.getElementById('getFashion').addEventListener('click', getFashion);



  
    
//  <p>${post.urlToImage}</p>
// get source news here

function getSource(){
  // fetch('https://newsapi.org/v1/sources?')
      fetch('https://newsapi.org/v1/sources?' +
          'country=us&' + 
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
          
      .then((data) => {
        
        let output = '<h2 class="mb-4">Source</h2>';
        data.sources.forEach(function(post){
          output += `
            <div class="card card-body classA mb-3">
              <h3>${post.name}</h3>
              <p>${post.description}</p>
             
              
              <a target ="_blank" href="${post.url}">Full News here </a>
           <p>   <button class="sourcebutton">${post.category}</button> <p>
             
                 
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
                }





// get Other Top Search here



function getSearch(){
      fetch('https://newsapi.org/v2/everything?' +
          'q=Apple&' +
          'from=2018-04-09&' +
          'sortBy=popularity&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
          
      .then((data) => {
        
        let output = '<h2 class="mb-4">Blog post</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3 getsource">
            
              
              <h4>${post.title}</h4>
              <h5>by: &nbsp ${post.author}</h5>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />            
              <p>${post.publishedAt}</p>
             
                 
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
                }













// get Other Top Breaking news here

function getTopnews(){
      fetch('https://newsapi.org/v2/top-headlines?' +
          'country=us&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
          
      .then((data) => {
        
        let output = '<h2 class="mb-4">Top Breaking News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />            
              <p>${post.publishedAt}</p>
             
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
                }








// Get BBC News Here
    
    
    function getPosts(){
      fetch('https://newsapi.org/v2/everything?' +
          'sources=bbc-news&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">BBC News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }








// Get Cnn News Here
    
    
function getCnn(){
      fetch('https://newsapi.org/v2/everything?' +
          'sources=cnn&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">Cnn News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }



// Get Tech News Here
    
    
function getTech(){
      fetch('https://newsapi.org/v2/everything?' +
          'sources=techcrunch&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">Tech News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }






// Get Google News Here
    
    
function getGoogle(){
      fetch('https://newsapi.org/v2/everything?' +
          'sources=googlenews&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">Google News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }







// Get Fashion News Here
    
    
function getFashion(){
  fetch('https://newsapi.org/v2/top-headlines?' +
          'country=ng&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">Naija Trend</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full Story here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }











// Get ESPN Sport News Here
    
    
 
function getEspn(){
      fetch('https://newsapi.org/v2/everything?' +
          'sources=bbc-sport&' +
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
      .then((data) => {
        
        let output = '<h2 class="mb-4">Sport News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />
              <p>${post.publishedAt}</p>
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
    }














// get Other Top Breaking news here

function getNaija(){
      fetch('https://newsapi.org/v2/everything?' +
          'country=ng&' + 
          'apiKey=1134cc1a912042b5bf7c81eb9abbd62d')
      .then((res) => res.json())
          
      .then((data) => {
        
        let output = '<h2 class="mb-4">Top Naija News</h2>';
        data.articles.forEach(function(post){
          output += `
            <div class="card card-body mb-3">
              <h3>${post.author}</h3>
              <h4>${post.title}</h4>
              <p>${post.description}</p>
              <a target ="_blank" href="${post.url}">Full News here </a>
              <img src="${post.urlToImage}" height=50% width=50% />            
              <p>${post.publishedAt}</p>
             
            </div>
          `;
        });
        document.getElementById('output').innerHTML = output;
      })
                }










apiRouter.get('/:countryCode', function(req, res){
		newsapi.v2.topHeadlines({
				country:req.params.countryCode,
				//language: 'en'
			}).then(response => {
			  	//console.log(response.articles);
			  	res.json(response.articles);	
		}, err =>{
			console.log(err);
			res.sendStatus(404);
		}); 
	});











  </script>




<script>
  /*
         * Open the drawer when the menu ison is clicked.
         */
         var menu = document.querySelector('#menu');
        var main = document.querySelector('main');
        var drawer = document.querySelector('.nav');
  
        menu.addEventListener('click', function(e) {
          drawer.classList.toggle('open');
          e.stopPropagation();
        });
   //     main.addEventListener('click', function() {
  //       drawer.classList.remove('open');
   //     });
  
  

function filterFunction() {
  var input, filter, ul, li, a, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  div = document.getElementById("myDropdown");
  a = div.getElementsByTagName("a");
  for (i = 0; i < a.length; i++) {
    if (a[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
    } else {
      a[i].style.display = "none";
    }
  }
}






  </script>
  










  <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
          .then(function() {
            console.log('SW registered');
          });
      }
      



      self.addEventListener('activate', function () {
  console.log('SW Activated');
});

      </script>


  




</body>
</html>